{"version":3,"file":"string-factory.min.js","sources":["string-factory.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar StringFactory = function () {\n  function tag(tag, attrs, children) {\n    var openTagContents = [tag];\n\n    if (attrs) {\n      if (Array.isArray(attrs)) {\n        attrs = attrs.join(' ');\n      }\n\n      if (typeof attrs === 'string') {\n        openTagContents.push(attrs);\n      } else {\n        for (var key in attrs) {\n          if (attrs[key] === undefined) {// DO NOTHING\n          } else if (attrs[key] === null) {\n            openTagContents.push(key);\n          } else {\n            openTagContents.push(\"\".concat(key, \"=\").concat(quote(attrs[key], '\"')));\n          }\n        }\n      }\n    }\n\n    var openTag = \"<\".concat(openTagContents.join(' '), \">\");\n\n    if (children === undefined || children === null) {\n      return openTag;\n    }\n\n    if (Array.isArray(children)) {\n      children = children.filter(function (child) {\n        return child !== null;\n      }).join('');\n    }\n\n    return \"\".concat(openTag).concat(children, \"</\").concat(tag, \">\");\n  }\n\n  function table(attrs, caption, thead, tbody, tfoot) {\n    return tag('table', attrs, [tag('caption', {}, caption), thead ? tag('thead', {}, thead) : null, tag('tbody', {}, tbody), tfoot ? tag('tfoot', {}, tfoot) : null]);\n  }\n\n  function style(properties) {\n    function processProperties(properties) {\n      var value = [];\n\n      for (var key in properties) {\n        var property = properties[key];\n\n        if (!property) {\n          continue;\n        }\n\n        if (Array.isArray(property)) {\n          if (key === 'font-family') {\n            property = property.join(', ');\n          } else {\n            property = property.join(' ');\n          }\n        }\n\n        if (_typeof(property) === 'object') {\n          value.push(\"\".concat(key, \" {\"));\n          value.push.apply(value, _toConsumableArray(processProperties(property)));\n          value.push('}');\n        } else {\n          value.push(\"\".concat(key, \": \").concat(property, \";\"));\n        }\n      }\n\n      return value;\n    }\n\n    return processProperties(properties).join(' ');\n  }\n\n  function quote(value) {\n    var quote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '`';\n\n    if (Array.isArray(value)) {\n      value = value.join('');\n    }\n\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n\n    var exps = [];\n    value = value.replace(new RegExp('{{ (.+?) }}', 'g'), function (match, p1) {\n      exps.push(p1);\n      return '{{ }}';\n    }).replace(new RegExp(\"\\\\\\\\\".concat(quote), 'g'), \"\\\\\\\\\".concat(quote)).replace(new RegExp(\"\".concat(quote), 'g'), \"\\\\\".concat(quote)).replace(new RegExp('{{ }}', 'g'), function () {\n      if (quote === '`') {\n        return \"${\".concat(exps.shift(), \"}\");\n      } else {\n        return \"\".concat(quote, \" + (\").concat(exps.shift(), \") + \").concat(quote);\n      }\n    });\n    return \"\".concat(quote).concat(value).concat(quote);\n  }\n\n  function func(args, body) {\n    if (Array.isArray(args)) {\n      args = args.filter(function (child) {\n        return child !== null;\n      }).join(', ');\n    }\n\n    return \"(\".concat(args || '', \") => \").concat(body);\n  }\n\n  function exp(value) {\n    return \"{{ \".concat(value, \" }}\");\n  }\n\n  function expIf(condition, trueValue, falseValue) {\n    return exp(\"\".concat(condition, \" ? \").concat(trueValue, \" : \").concat(falseValue));\n  }\n\n  function expLoop(loopExp, body) {\n    var joiner = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    return exp(\"(() => { const expLoopValue = []; for(\".concat(loopExp, \") { expLoopValue.push(\").concat(body, \"); } return expLoopValue.join(\").concat(quote(joiner), \"); })()\"));\n  }\n\n  return {\n    tag: tag,\n    table: table,\n    style: style,\n    quote: quote,\n    func: func,\n    exp: exp,\n    expIf: expIf,\n    expLoop: expLoop\n  };\n}();\n/* exported StringFactory */"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_typeof","obj","StringFactory","tag","attrs","children","openTagContents","join","push","key","undefined","concat","quote","openTag","filter","child","value","arguments","String","exps","replace","RegExp","match","p1","shift","exp","table","caption","thead","tbody","tfoot","style","properties","processProperties","property","apply","func","args","body","expIf","condition","trueValue","falseValue","expLoop","loopExp","joiner"],"mappings":"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"}