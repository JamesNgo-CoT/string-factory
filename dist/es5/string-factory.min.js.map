{"version":3,"file":"string-factory.min.js","sources":["string-factory.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _toConsumableArray(arr) {\n\treturn _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n\tthrow new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n\tif (!o) return;\n\tif (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\tvar n = Object.prototype.toString.call(o).slice(8, -1);\n\tif (n === \"Object\" && o.constructor) n = o.constructor.name;\n\tif (n === \"Map\" || n === \"Set\") return Array.from(o);\n\tif (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n\tif (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n\tif (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n\tif (len == null || len > arr.length) len = arr.length;\n\tfor (var i = 0, arr2 = new Array(len); i < len; i++) {\n\t\tarr2[i] = arr[i];\n\t}\n\treturn arr2;\n}\n\nfunction _typeof(obj) {\n\t\"@babel/helpers - typeof\";\n\treturn _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n\t\treturn typeof obj;\n\t} : function(obj) {\n\t\treturn obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t}, _typeof(obj);\n}\n\nvar StringFactory = function() {\n\tfunction tag(tag, attrs, children) {\n\t\tvar openTagContents = [tag];\n\n\t\tif (attrs) {\n\t\t\tif (Array.isArray(attrs)) {\n\t\t\t\tattrs = attrs.join(' ');\n\t\t\t}\n\n\t\t\tif (typeof attrs === 'string') {\n\t\t\t\topenTagContents.push(attrs);\n\t\t\t} else {\n\t\t\t\tfor (var key in attrs) {\n\t\t\t\t\tif (attrs[key] === undefined) { // DO NOTHING\n\t\t\t\t\t} else if (attrs[key] === null) {\n\t\t\t\t\t\topenTagContents.push(key);\n\t\t\t\t\t} else {\n\t\t\t\t\t\topenTagContents.push(\"\".concat(key, \"=\").concat(quote(attrs[key], '\"')));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar openTag = \"<\".concat(openTagContents.join(' '), \">\");\n\n\t\tif (children === undefined || children === null) {\n\t\t\treturn openTag;\n\t\t}\n\n\t\tif (Array.isArray(children)) {\n\t\t\tchildren = children.filter(function(child) {\n\t\t\t\treturn child !== null;\n\t\t\t}).join('');\n\t\t}\n\n\t\treturn \"\".concat(openTag).concat(children, \"</\").concat(tag, \">\");\n\t}\n\n\tfunction table(attrs, caption, thead, tbody, tfoot) {\n\t\treturn tag('table', attrs, [tag('caption', {}, caption), thead ? tag('thead', {}, thead) : null, tag('tbody', {}, tbody), tfoot ? tag('tfoot', {}, tfoot) : null]);\n\t}\n\n\tfunction style(properties) {\n\t\tfunction processProperties(properties) {\n\t\t\tvar value = [];\n\n\t\t\tfor (var key in properties) {\n\t\t\t\tvar property = properties[key];\n\n\t\t\t\tif (!property) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(property)) {\n\t\t\t\t\tif (key === 'font-family') {\n\t\t\t\t\t\tproperty = property.join(', ');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tproperty = property.join(' ');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (_typeof(property) === 'object') {\n\t\t\t\t\tvalue.push(\"\".concat(key, \" {\"));\n\t\t\t\t\tvalue.push.apply(value, _toConsumableArray(processProperties(property)));\n\t\t\t\t\tvalue.push('}');\n\t\t\t\t} else {\n\t\t\t\t\tvalue.push(\"\".concat(key, \": \").concat(property, \";\"));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\treturn processProperties(properties).join(' ');\n\t}\n\n\tfunction quote(value) {\n\t\tvar quote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '`';\n\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue = value.join('');\n\t\t}\n\n\t\tif (typeof value !== 'string') {\n\t\t\tvalue = String(value);\n\t\t}\n\n\t\tvar exps = [];\n\t\tvalue = value.replace(new RegExp('{{ (.+?) }}', 'g'), function(match, p1) {\n\t\t\texps.push(p1);\n\t\t\treturn '{{ }}';\n\t\t}).replace(new RegExp(\"\\\\\\\\\".concat(quote), 'g'), \"\\\\\\\\\".concat(quote)).replace(new RegExp(\"\".concat(quote), 'g'), \"\\\\\".concat(quote)).replace(new RegExp('{{ }}', 'g'), function() {\n\t\t\tif (quote === '`') {\n\t\t\t\treturn \"${\".concat(exps.shift(), \"}\");\n\t\t\t} else {\n\t\t\t\treturn \"\".concat(quote, \" + (\").concat(exps.shift(), \") + \").concat(quote);\n\t\t\t}\n\t\t});\n\t\treturn \"\".concat(quote).concat(value).concat(quote);\n\t}\n\n\tfunction func(args, body) {\n\t\tif (Array.isArray(args)) {\n\t\t\targs = args.filter(function(child) {\n\t\t\t\treturn child !== null;\n\t\t\t}).join(', ');\n\t\t}\n\n\t\treturn \"(\".concat(args || '', \") => \").concat(body);\n\t}\n\n\tfunction exp(value) {\n\t\treturn \"{{ \".concat(value, \" }}\");\n\t}\n\n\tfunction expIf(condition, trueValue, falseValue) {\n\t\treturn exp(\"\".concat(condition, \" ? \").concat(trueValue, \" : \").concat(falseValue));\n\t}\n\n\tfunction expLoop(loopExp, body) {\n\t\tvar joiner = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\t\treturn exp(\"(() => { const expLoopValue = []; for(\".concat(loopExp, \") { expLoopValue.push(\").concat(body, \"); } return expLoopValue.join(\").concat(quote(joiner), \"); })()\"));\n\t}\n\n\treturn {\n\t\ttag: tag,\n\t\ttable: table,\n\t\tstyle: style,\n\t\tquote: quote,\n\t\tfunc: func,\n\t\texp: exp,\n\t\texpIf: expIf,\n\t\texpLoop: expLoop\n\t};\n}();\n/* exported StringFactory */"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_typeof","obj","StringFactory","tag","attrs","children","openTagContents","join","push","key","undefined","concat","quote","openTag","filter","child","value","arguments","String","exps","replace","RegExp","match","p1","shift","exp","table","caption","thead","tbody","tfoot","style","properties","processProperties","property","apply","func","args","body","expIf","condition","trueValue","falseValue","expLoop","loopExp","joiner"],"mappings":"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"}